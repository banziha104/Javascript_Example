# 스코프

- 컴파일러 이론 : 자바스크립트는 실은 컴파일 언어다.
    - 토크나이즈 & 렉싱 : 의미 있는 조각(토큰) 으로 나누는 과정
    - 파싱 : 토큰 배열을 문법 구조를 반영하여 중첩 원소를 가지는 트리 형태(AST)로 바꾸는 과정
    - 코드 생성 : AST를 컴퓨터에서 실행 코드로 바꾸는 과정 
- 컴파일러 용어 
    - LHS & RHS : 대입 연산의 방향을 결정함
        - LHS : 변수가 대입 연산자 왼쪽에 있을 때 수행
        - RHS : 오른쪽에 있을때 수행
    
- 스코프
    - 스코프는 변수를 찾지 못하면 한 단계 위의 스코프를 찾기를 반복함 
    - 글로벌 스코프라 부르는 가장 바깥 스코프에 도달할 때 까지 진행함, 찾던 못찾았던 검색을 멈춤.
    
- 렉시컬 스코프 
    - 렉싱 타임 :  의미 있는 조각(토큰) 으로 나누는 과정
    - 렉시컬 스코프 : 렉싱 타임에 정의되는 스코프 프로그래머가 코드를 짤 댸 변수와 스코프 블록을 어디에 작성하는가에 기초하는 스코프
    - 검색 : 목표와 일치하는 대상을 찾는 즉기 검색을 중단함 
    - 새도잉 : 더 안쪽의 확인자가 더 바깥쪽의 확인자를 가르키는 것
    - 렉시컬 속이기 
    
- 함수 기반 스코프 
    - 숨기기 
        - 변수와 함수를 스코프안에 숨김으로써 다른 용도를 가진 두 확인자가 충돌하는 것을 피할 수 있다
        - 최소 권한의 책임을 가질 수 있다
    - 익명 함수 문제점 
        - 스택 추적시 표시할 이름이 없어 디버깅이 어려움
        - 재귀 호출이 어려움
        - 가독성이 떨어짐
        - 인라인 함수로 대체하는 것이 좋음
        
    - 즉시 실행 함수 표현식
    - 블록 스코프
        - let : 블록 스코프 의존의 변수
        - const : 블록 스코프 의존의 상수
        - 가비지 콜렉션 : let과 const는 블록 탈출후 자동 수거
        
- 호이스팅 

```javascript
{
    a = 2; // 인터프리터 단계에 실행됨
    var a; // 컴파일 단계에 실행됨
    console.log(a);
}
```

    - 함수가 먼저 실행됨 
    
    